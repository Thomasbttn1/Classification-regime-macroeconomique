# Classification des R√©gimes Macro√©conomiques pour l'Allocation d'Actifs 2026

**Projet Master 272 - Gestion d'Actifs**  
Universit√© Paris Dauphine-PSL  
D√©cembre 2025

---

## üìã Table des Mati√®res

1. [Vue d'ensemble](#vue-densemble)
2. [Objectifs du projet](#objectifs-du-projet)
3. [M√©thodologie](#m√©thodologie)
4. [Structure du projet](#structure-du-projet)
5. [Installation](#installation)
6. [Utilisation](#utilisation)
7. [R√©sultats](#r√©sultats)
8. [Technologies utilis√©es](#technologies-utilis√©es)

---

## üéØ Vue d'ensemble

Ce projet d√©veloppe une strat√©gie d'allocation d'actifs quantitative bas√©e sur la classification des r√©gimes macro√©conomiques. En combinant analyse fondamentale, Machine Learning et backtesting historique, nous proposons une allocation optimis√©e pour 2026 sur 8 classes d'actifs (actions US/Europe, obligations am√©ricaines/europ√©ennes, march√© mon√©taire).

**Approche en 3 √©tapes :**
1. **Outil quantitatif** : Financial Conditions Index (FCI) pour identifier le r√©gime √©conomique
2. **Pr√©vision ML** : Mod√®le Random Forest pour pr√©dire le r√©gime futur
3. **Allocation adaptative** : R√®gles d'allocation optimis√©es par r√©gime

---

## üéì Objectifs du projet

### Objectif principal
Proposer une allocation strat√©gique d'actifs pour 2026 bas√©e sur une classification rigoureuse des r√©gimes macro√©conomiques.

### Objectifs sp√©cifiques
- D√©velopper un indicateur composite (FCI) synth√©tisant 4 variables macro cl√©s
- Entra√Æner un mod√®le ML pour classifier les r√©gimes (RESTRICTIF/NEUTRE/ACCOMMODANT)
- Valider l'approche par backtesting historique (2010-2025)
- Optimiser le couple rendement-risque (Sharpe ratio)
- G√©n√©rer une allocation concr√®te pour 2026

---

## üî¨ M√©thodologie

### 1. Financial Conditions Index (FCI)

**Formule :**
```
FCI = 0,25 √ó ISM_norm + 0,25 √ó Sentiment_norm - 0,25 √ó Fed_norm - 0,25 √ó CPI_norm
```

**4 Indicateurs :**
- ISM Manufacturing PMI : Activit√© industrielle
- Consumer Sentiment Index : Confiance des m√©nages
- Fed Funds Rate : Politique mon√©taire
- CPI Month-over-Month : Inflation

**Normalisation :** Z-scores sur fen√™tre glissante de 12 mois

**Classification :**
- RESTRICTIF : FCI < -0,5
- NEUTRE : -0,5 ‚â§ FCI ‚â§ 0,5
- ACCOMMODANT : FCI > 0,5

### 2. Machine Learning

**Mod√®le retenu :** Random Forest Classifier
- Features : 14 variables (indicateurs + moyennes mobiles + z-scores + volatilit√©s)
- Split temporel : 80% train / 20% test (pas de shuffle pour pr√©server temporalit√©)
- Validation : Matrice de confusion, feature importance, m√©triques par classe

**Performance :**
- Accuracy : 55,17%
- Sharpe ratio backtesting : 0,50 (vs 0,16 benchmark)

### 3. Allocation d'Actifs

**8 Classes d'actifs :**
1. Actions US (SPX Index)
2. Actions EURO (SX5E Index)
3. Taux longs US 10Y (USGG10YR Index)
4. Taux courts US 2Y (USGG2YR Index)
5. Taux longs Allemands (GDBR10 Index)
6. Taux courts Allemands (GDBR2 Index)
7. Taux longs Fran√ßais (GFRN10 Index)
8. March√© mon√©taire EURO (ESTRON Index)

**R√®gles d'allocation par r√©gime :**
- RESTRICTIF : 35% actions / 65% obligations (d√©fensif)
- NEUTRE : 70% actions / 30% obligations (√©quilibr√©)
- ACCOMMODANT : 75% actions / 25% obligations (opportuniste mod√©r√©)

---

## üìÅ Structure du projet

```
classification-regimes-macro/
‚îÇ
‚îú‚îÄ‚îÄ README.md                          # Ce fichier
‚îú‚îÄ‚îÄ config.yaml                        # Configuration du projet
‚îú‚îÄ‚îÄ requirements.txt                   # D√©pendances Python
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ raw/                          # Donn√©es brutes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ economic_indicators.csv   # ISM, Sentiment, Fed, CPI (2010-2025)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ multi_asset_returns.csv   # Rendements mensuels 8 actifs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ multi_asset_prices.csv    # Prix historiques 8 actifs
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ processed/                    # Donn√©es trait√©es
‚îÇ       ‚îú‚îÄ‚îÄ features.csv              # Features ML (188 obs √ó 14 features)
‚îÇ       ‚îú‚îÄ‚îÄ labeled_data.csv          # Donn√©es labell√©es avec r√©gimes
‚îÇ       ‚îî‚îÄ‚îÄ splits/                   # Train/test splits
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ data_collection/              # Collecte de donn√©es
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collect_economic_data.py  # FRED API (ISM, Sentiment, Fed, CPI)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ collect_multi_assets.py   # Yahoo Finance (8 actifs)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ preprocessing/                # Pr√©paration des donn√©es
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feature_engineering.py    # Cr√©ation features ML
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ labeling.py               # Labeling r√©gimes via FCI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_split.py             # Split temporel train/test
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ indicators/                   # Indicateurs √©conomiques
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ financial_conditions_index.py  # Calcul FCI + graphiques
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/                       # Mod√®les ML
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_model.py             # Classe abstraite
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ random_forest_model.py    # Random Forest (mod√®le retenu)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_evaluator.py        # √âvaluation + confusion matrix
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ backtest_strategy.py      # Backtesting allocation
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ allocation/                   # G√©n√©ration allocation 2026
‚îÇ       ‚îú‚îÄ‚îÄ predict_regime_2026.py    # Pr√©diction r√©gime 2026
‚îÇ       ‚îî‚îÄ‚îÄ generate_allocation_2026.py  # Allocation finale
‚îÇ
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ saved_models/                 # Mod√®les entra√Æn√©s
‚îÇ       ‚îî‚îÄ‚îÄ randomforestmodel.pkl     # Mod√®le Random Forest
‚îÇ
‚îî‚îÄ‚îÄ results/
    ‚îú‚îÄ‚îÄ figures/                      # Graphiques pour rapport
    ‚îÇ   ‚îú‚îÄ‚îÄ fci_evolution.png         # √âvolution FCI (ANNEXE 1)
    ‚îÇ   ‚îú‚îÄ‚îÄ confusion_matrices.png    # Matrices de confusion
    ‚îÇ   ‚îú‚îÄ‚îÄ feature_importance.png    # Importance des features
    ‚îÇ   ‚îú‚îÄ‚îÄ backtest_results.png      # Performance backtesting
    ‚îÇ   ‚îî‚îÄ‚îÄ allocation_2026.png       # Allocation 2026
    ‚îÇ
    ‚îî‚îÄ‚îÄ tables/                       # Tableaux CSV
        ‚îú‚îÄ‚îÄ fci_timeseries.csv        # S√©rie temporelle FCI
        ‚îú‚îÄ‚îÄ regime_prediction_2026.csv  # Pr√©diction 2026
        ‚îú‚îÄ‚îÄ allocation_2026.csv       # Allocation finale
        ‚îî‚îÄ‚îÄ backtest_metrics.csv      # M√©triques backtesting
```

---

## üõ†Ô∏è Installation

### Pr√©requis
- Python 3.8+
- pip

### √âtapes

1. **Cloner le repository**
```bash
git clone https://github.com/votre-username/classification-regimes-macro.git
cd classification-regimes-macro
```

2. **Cr√©er un environnement virtuel (recommand√©)**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ou
venv\Scripts\activate  # Windows
```

3. **Installer les d√©pendances**
```bash
pip install -r requirements.txt
```

4. **Configurer l'API FRED (obligatoire pour collecter les donn√©es √©conomiques)**

a) Obtenir une cl√© API gratuite :
   - Aller sur https://fred.stlouisfed.org/
   - Cr√©er un compte (gratuit)
   - Demander une API Key : https://fredaccount.stlouisfed.org/apikeys

b) Cr√©er un fichier `.env` √† la racine du projet :
```bash
touch .env  # Linux/Mac
# ou cr√©er manuellement sur Windows
```

c) Ajouter votre cl√© API dans `.env` :
```
FRED_API_KEY=votre_cle_api_ici
```

Exemple :
```
FRED_API_KEY=abc123def456ghi789jkl0mn
```

d) **IMPORTANT** : Ajouter `.env` au `.gitignore` pour ne pas versionner votre cl√© :
```bash
echo ".env" >> .gitignore
```

**Note** : Le fichier `.env` ne doit JAMAIS √™tre partag√© ou commit√© sur Git (cl√© priv√©e).

---

## üöÄ Utilisation

### Pipeline complet

#### 1. Collecte des donn√©es
```bash
# Donn√©es √©conomiques (FRED API)
python src/data_collection/collect_economic_data.py

# Donn√©es march√©s (Yahoo Finance)
python src/data_collection/collect_multi_assets.py
```

#### 2. Pr√©paration des donn√©es
```bash
# Feature engineering
python src/preprocessing/feature_engineering.py

# Labeling via FCI
python src/preprocessing/labeling.py

# Split train/test
python src/preprocessing/data_split.py
```

#### 3. Entra√Ænement du mod√®le
```bash
# Entra√Æner Random Forest
python src/models/random_forest_model.py

# √âvaluer
python src/models/model_evaluator.py
```

#### 4. Backtesting
```bash
python src/models/backtest_strategy.py
```

#### 5. G√©n√©ration allocation 2026
```bash
# FCI actuel
python src/indicators/financial_conditions_index.py

# Pr√©dire r√©gime 2026
python src/allocation/predict_regime_2026.py

# G√©n√©rer allocation
python src/allocation/generate_allocation_2026.py
```

---

## üìä R√©sultats

### √âtat actuel (septembre 2025)
- **FCI** : -0,38 ‚Üí NEUTRE
- **ISM PMI** : 1,4
- **Consumer Sentiment** : 55,1
- **Fed Funds Rate** : 4,22%
- **CPI MoM** : 0,31%

### Pr√©diction 2026
- **R√©gime pr√©dit** : ACCOMMODANT (48,8%)
- **Interpr√©tation** : Conditions favorables, croissance 2-2,5%

### Allocation 2026

| Actif | Allocation |
|-------|------------|
| Actions US | 52% |
| Actions EURO | 23% |
| Taux longs US | 10% |
| Taux courts US | 5% |
| Taux Allemands | 8% |
| Taux Fran√ßais | 1% |
| Cash EURO | 1% |

**Total Actions : 75% / Obligations : 25%**

### Performance Backtesting (2010-2025)

| M√©trique | Strat√©gie | Benchmark | SPX |
|----------|-----------|-----------|-----|
| Rendement ann. | **8,03%** | 2,93% | 12,38% |
| Volatilit√© | 12,13% | 5,84% | 14,45% |
| **Sharpe** | **0,50** | 0,16 | 0,72 |
| Drawdown | -21,93% | -7,75% | -24,77% |

‚úÖ **Sharpe 3x sup√©rieur au benchmark**

---

## üß∞ Technologies utilis√©es

- **Python 3.8+**
- **pandas, numpy** : Manipulation donn√©es
- **scikit-learn** : Machine Learning
- **matplotlib, seaborn** : Visualisations
- **yfinance** : Donn√©es march√©s
- **fredapi** : Donn√©es √©conomiques

---

## üìù Am√©liorations futures

- [ ] Plus d'indicateurs (VIX, spreads cr√©dit)
- [ ] Autres algos ML (XGBoost, LSTM)
- [ ] Rebalancing dynamique
- [ ] Interface web (Streamlit)
- [ ] Tests unitaires

---

## üë§ Auteur

**Thomas Betton & Pierre Berthold**  
Master 272 - Universit√© Paris Dauphine-PSL  
D√©cembre 2025

---

